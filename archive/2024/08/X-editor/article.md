# X Editor!

どうも！The Infinity's です！
今回！X のタイムラインを編集するプログラムを作成したので公開します！

<a href="" id="x-editor-source">
X Editor Bookmarklet
</a>
<script>
  document.querySelector("#x-editor-source").href=`javascript:const timeline_div=document.querySelector("#react-root > div > div > div.css-175oi2r.r-1f2l425.r-13qz1uu.r-417010.r-18u37iz > main > div > div > div > div.css-175oi2r.r-kemksi.r-1kqtdi0.r-1ua6aaf.r-th6na.r-1phboty.r-16y2uox.r-184en5c.r-1c4cdxw.r-1t251xo.r-f8sm7e.r-13qz1uu.r-1ye8kvj > div > div:nth-child(3) > div > div > section > div > div"),x_editor={max:()=>{const t=document.querySelector("#x-editor");"98%"==t.style.width?t.style.width="auto":t.style.width="98%"},hide:()=>{const t=document.querySelector("#x-editor-hide"),e=document.querySelector("#x-editor");"none"==e.style.display?(e.style.display="",t.style.opacity="1"):(e.style.display="none",t.style.opacity="0")},copy_post_content:()=>{const t=parseInt(document.querySelector('#x-editor>input[data-type="target_position"]').value);timeline_div.prepend(timeline_div.children[t].importNode())},remove_post_content:()=>{const t=parseInt(document.querySelector('#x-editor>input[data-type="target_position"]').value);timeline_div.children[t].remove()},get_post_content:()=>{const t=parseInt(document.querySelector('#x-editor>input[data-type="target_position"]').value);document.querySelector('#x-editor>textarea[data-type="content"]').value=timeline_div.children[t].innerHTML},edit_post_content:()=>{const t=parseInt(document.querySelector('#x-editor>input[data-type="target_position"]').value),e=document.querySelector('#x-editor>textarea[data-type="content"]');timeline_div.children[t].innerHTML=e.value.replace("&amp;","&").replace("&lt;","<").replace("&gt;",">")}},x_editor_source={html:' <button id="x-editor-max">□</button> <h1>X Post Editor</h1> <p>target position</p> <input data-type="target_position" type="text" /> <button data-type="target_position">get content</button> <p>content</p> <textarea data-type="content"></textarea><br /> <button data-type="edit">edit</button><br /> <button data-type="remove">remove</button><br /> <button data-type="copy">copy</button> ',css:" #x-editor{ padding:0; position:fixed; z-index:1000000; width:auto; height:100%; top:0; right:0; background-color:black; color:white; border:2px solid aqua; border-radius:10px 0 0 10px; } #x-editor-hide{ text-align:center; padding:0; position:fixed; z-index:10000000; width:40px; height:24px; top:0; right:0; background-color:black; color:white; border:2px solid aqua; } #x-editor-max{ text-align:center; font-weight:600; padding:0; position:fixed; z-index:10000000; width:40px; height:24px; top:0; right:40px; background-color:black; color:white; border:2px solid aqua; border-radius:0 0 0 10px; } #x-editor>input, #x-editor>button{ background-color:black; color:white; border:2px solid aqua; border-radius:10px; } #x-editor>textarea{ background-color:black; color:white; width:100%; height:50%; border:2px solid aqua; } "},init=()=>{const t=document.createElement("style");t.innerHTML=x_editor_source.css,document.body.append(t);const e=document.createElement("div");e.innerHTML=x_editor_source.html,e.id="x-editor",document.body.append(e),document.querySelector('#x-editor>button[data-type="target_position"]').addEventListener("click",x_editor.get_post_content),document.querySelector('#x-editor>button[data-type="edit"]').addEventListener("click",x_editor.edit_post_content),document.querySelector('#x-editor>button[data-type="remove"]').addEventListener("click",x_editor.remove_post_content),document.querySelector('#x-editor>button[data-type="copy"]').addEventListener("click",x_editor.copy_post_content);const o=document.createElement("button");o.innerHTML="x",o.id="x-editor-hide",o.addEventListener("click",x_editor.hide),document.querySelector("#x-editor-max").addEventListener("click",x_editor.max),document.body.append(o)};init();void(0);`;
</script>
<img style="width:100%;" src="./thumbnail.svg">

# date: 2024/08/05
